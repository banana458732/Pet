<h2>{{ pet_form.instance.id }} の更新</h2>
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- IDと種類は変更不可の表示 -->
    <label>ID:</label>
    <span>{{ pet_form.instance.id }}</span>
    <input type="hidden" name="id" value="{{ pet_form.instance.id }}">  <!-- idフィールドを隠しフィールドとして追加 -->
    <br>
    <label>種類 (犬/猫):</label>
    <span>{{ pet_form.instance.type }}</span>
    <br>

    <!-- サイズ -->
    <label for="{{ pet_form.size.id_for_label }}">サイズ (大型/中型/小型):</label>
    {{ pet_form.size }}
    <br>

    <!-- 色 -->
    <label for="{{ pet_form.color.id_for_label }}">色:</label>
    {{ pet_form.color }}
    <br>

    <!-- 年齢 -->
    <label for="{{ pet_form.age.id_for_label }}">年齢:</label>
    {{ pet_form.age }}
    <br>

    <!-- 性別 -->
    <label>性別:</label>
    <span>{{ pet_form.instance.sex }}</span>
    <br>

    <!-- その他のフィールド -->
    <label for="{{ pet_form.syu.id_for_label }}">種別:</label>
    {{ pet_form.syu }}
    <br>

    <label for="{{ pet_form.disease.id_for_label }}">病歴:</label>
    {{ pet_form.disease }}
    <br>

    <label for="{{ pet_form.personality.id_for_label }}">性格:</label>
    {{ pet_form.personality }}
    <br>

    <label for="{{ pet_form.phone_number.id_for_label }}">電話番号:</label>
    {{ pet_form.phone_number }}
    <br>

    <h3>画像の更新</h3>
    {{ image_formset.management_form }}  <!-- 管理フォームを追加 -->
    
    {% for form in image_formset %}
        <div>
            {% if form.instance.image %}
                <img src="{{ form.instance.image.url }}" alt="Pet Image" style="width: 150px; height: auto;">
                {{ form.id.as_hidden }}  <!-- IDを隠しフィールドで保持 -->
                
                <!-- 削除チェックボックスを表示（任意） -->
                <label for="{{ form.prefix }}-DELETE">この画像を削除</label>
                {{ form.DELETE }}  <!-- DELETEフィールド -->
                
                <p style="color: orange;">更新する画像を選択:</p>
                <input type="file" name="{{ form.image.html_name }}" id="{{ form.image.id_for_label }}">                
            {% else %}
                <p>新しい画像を選択:</p>
                <input type="file" name="{{ form.image.html_name }}" id="{{ form.image.id_for_label }}">
            {% endif %}
        </div>
    {% endfor %}
    
    <br>
    <button type="submit">更新</button>
</form>

<a href="{% url 'petapp:pet-list' %}">戻る</a>
