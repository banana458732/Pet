{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}アンケート{% endblock %}

{% block contents %}
<div class="container survey-container mt-5">
    <h2 class="survey-title">アンケートフォーム</h2>
    <form method="POST">
        {% csrf_token %}

        <!-- ペットの種類 -->
        <div class="form-group">
            <label for="id_pet_type">ペットの種類</label>
            <div class="form-check">
                {{ form.pet_type }}
            </div>
        </div>

        <!-- ペットのサイズ -->
        <div class="form-group">
            <label for="id_size">ペットのサイズ</label>
            <div class="form-check">
                {{ form.size }}
            </div>
        </div>

        <!-- 色 -->
        <div class="form-group">
            <label for="id_color">色</label>
            {{ form.color }}
        </div>

        <!-- 年齢 -->
        <div class="form-group">
            <label for="id_age">年齢</label>
            {{ form.age }}
        </div>

        <!-- 種別 -->
        <div class="form-group">
            <label for="id_kinds">種別 (任意)</label>
            {{ form.kinds }}
        </div>

        <!-- 病気 -->
        <div class="form-group">
            <label for="id_disease">病気 (任意)</label>
            {{ form.disease }}
        </div>

        <!-- 性格 -->
        <div class="form-group">
            <label for="id_personality">性格</label>
            {{ form.pet_personality }}
        </div>

        <!-- 性別 -->
        <div class="form-group">
            <label for="id_sex">性別</label>
            <div class="form-check">
                {{ form.sex }}
            </div>
        </div>

        <!-- 年齢範囲 -->
        <div class="form-group">
            <label for="id_age_range">希望するペットの年齢範囲 (任意)</label>
            <div class="form-check">
                {{ form.age_range }}
            </div>
        </div>

        <button type="submit" class="btn btn-primary">検索</button>
    </form>
</div>

<!-- JavaScript for Deselectable Radio Buttons -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const radios = document.querySelectorAll('input[type="radio"]');
    radios.forEach(radio => {
        radio.addEventListener('click', function () {
            if (this.checked) {
                this.dataset.checked = this.dataset.checked === 'true' ? 'false' : 'true';
                if (this.dataset.checked === 'false') {
                    this.checked = false;
                }
            }
        });
    });
});
</script>

<!-- 追加CSS -->
<style>
    /* フォーム全体を左揃え */
    .form-group {
        text-align: left;
        margin-bottom: 15px;
    }

    /* ラベルの左揃え */
    .form-group label {
        display: block;
        text-align: left;
        margin-bottom: 5px;
        font-weight: bold;
    }

    /* ラジオボタンとラベルを横並びにして左揃え */
    .form-check {
        display: flex;
        align-items: center;  /* ラジオボタンとラベルを縦方向に中央揃え */
    }

    .form-check input[type="radio"] {
        height: 15px;
        width: 15px;
        margin-right: 5px;  /* ラジオボタンとラベルの間隔 */
    }

    .survey-container {
        text-align: left;  /* コンテナ内の内容を左揃え */
    }
</style>

{% endblock %}
